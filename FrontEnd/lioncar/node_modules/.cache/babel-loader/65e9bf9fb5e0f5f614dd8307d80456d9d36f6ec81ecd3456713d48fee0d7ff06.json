{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE = 'http://127.0.0.1:8000/';\nconst API_TOKEN = 'http://localhost:8000/api/token/';\nconst basicFetch = async endpoint => {\n  try {\n    const response = await axios.get(`${API_BASE}${endpoint}`);\n    return response.data;\n  } catch (error) {\n    console.error(\"Erro ao buscar dados:\", error);\n    return null;\n  }\n};\nconst Db = {\n  getUsers: async () => {\n    try {\n      const users = await basicFetch('api/users');\n      return users;\n    } catch (error) {\n      console.log('[ERROR]');\n      console.error(\"Erro ao buscar dados:\", error);\n      return null;\n    }\n  },\n  getToken: async formToken => {\n    const responseToken = axios.post(`${API_TOKEN}`, formToken);\n    return (await responseToken).data.token;\n  },\n  postUser: async formUser => {\n    const endpoint = 'api/users/';\n    axios.post(`${API_BASE}${endpoint}`, formUser).then(response => {\n      console.log(response);\n    }).catch(error => console.log(error));\n  },\n  checkUserExistence: async (email, username) => {\n    const endpoint = 'api/checkuserexistence';\n    try {\n      const response = await axios.get(`${API_BASE}` / `${endpoint}`, {\n        params: {\n          email: email,\n          username: username\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error(\"Erro ao buscar dados:\", error);\n      return null;\n    }\n  }\n};\nexport default Db;","map":{"version":3,"names":["axios","API_BASE","API_TOKEN","basicFetch","endpoint","response","get","data","error","console","Db","getUsers","users","log","getToken","formToken","responseToken","post","token","postUser","formUser","then","catch","checkUserExistence","email","username","params"],"sources":["C:/Users/dutip/OneDrive/Ãrea de Trabalho/Tecweb/P3/projeto-3-leao/FrontEnd/lioncar/src/DB.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_BASE = 'http://127.0.0.1:8000/';\r\nconst API_TOKEN = 'http://localhost:8000/api/token/';\r\n\r\nconst basicFetch = async (endpoint) => {\r\n    try {\r\n        const response = await axios.get(`${API_BASE}${endpoint}`);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Erro ao buscar dados:\", error);\r\n        return null;\r\n    }\r\n};\r\n\r\nconst Db = {\r\n    getUsers: async () => {\r\n        try {\r\n            const users = await basicFetch('api/users');\r\n\r\n            return users;\r\n        } catch (error) {\r\n            console.log('[ERROR]');\r\n            console.error(\"Erro ao buscar dados:\", error);\r\n            return null;\r\n        }\r\n    },\r\n\r\n    getToken: async (formToken) => {\r\n        const responseToken = axios.post(`${API_TOKEN}`,formToken);\r\n        return (await responseToken).data.token;\r\n    },\r\n\r\n    postUser: async (formUser) => {\r\n        const endpoint = 'api/users/';\r\n        axios.post(`${API_BASE}${endpoint}`,formUser)\r\n        .then((response)=>{console.log(response)})\r\n        .catch((error)=>console.log(error))\r\n    },\r\n\r\n    checkUserExistence: async (email,username) => {\r\n        const endpoint = 'api/checkuserexistence';\r\n\r\n        try {\r\n            const response = await axios.get(`${API_BASE}`/`${endpoint}`, {\r\n                params: { email: email, username:username }\r\n            });\r\n\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error(\"Erro ao buscar dados:\", error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n\r\n};\r\n\r\nexport default Db;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,wBAAwB;AACzC,MAAMC,SAAS,GAAG,kCAAkC;AAEpD,MAAMC,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACnC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,GAAEL,QAAS,GAAEG,QAAS,EAAC,CAAC;IAC1D,OAAOC,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO,IAAI;EACf;AACJ,CAAC;AAED,MAAME,EAAE,GAAG;EACPC,QAAQ,EAAE,MAAAA,CAAA,KAAY;IAClB,IAAI;MACA,MAAMC,KAAK,GAAG,MAAMT,UAAU,CAAC,WAAW,CAAC;MAE3C,OAAOS,KAAK;IAChB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACZC,OAAO,CAACI,GAAG,CAAC,SAAS,CAAC;MACtBJ,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,OAAO,IAAI;IACf;EACJ,CAAC;EAEDM,QAAQ,EAAE,MAAOC,SAAS,IAAK;IAC3B,MAAMC,aAAa,GAAGhB,KAAK,CAACiB,IAAI,CAAE,GAAEf,SAAU,EAAC,EAACa,SAAS,CAAC;IAC1D,OAAO,CAAC,MAAMC,aAAa,EAAET,IAAI,CAACW,KAAK;EAC3C,CAAC;EAEDC,QAAQ,EAAE,MAAOC,QAAQ,IAAK;IAC1B,MAAMhB,QAAQ,GAAG,YAAY;IAC7BJ,KAAK,CAACiB,IAAI,CAAE,GAAEhB,QAAS,GAAEG,QAAS,EAAC,EAACgB,QAAQ,CAAC,CAC5CC,IAAI,CAAEhB,QAAQ,IAAG;MAACI,OAAO,CAACI,GAAG,CAACR,QAAQ,CAAC;IAAA,CAAC,CAAC,CACzCiB,KAAK,CAAEd,KAAK,IAAGC,OAAO,CAACI,GAAG,CAACL,KAAK,CAAC,CAAC;EACvC,CAAC;EAEDe,kBAAkB,EAAE,MAAAA,CAAOC,KAAK,EAACC,QAAQ,KAAK;IAC1C,MAAMrB,QAAQ,GAAG,wBAAwB;IAEzC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,GAAEL,QAAS,EAAC,GAAE,GAAEG,QAAS,EAAC,EAAE;QAC1DsB,MAAM,EAAE;UAAEF,KAAK,EAAEA,KAAK;UAAEC,QAAQ,EAACA;QAAS;MAC9C,CAAC,CAAC;MAEF,OAAOpB,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,OAAO,IAAI;IACf;EACJ;AAIJ,CAAC;AAED,eAAeE,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}